
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Logging and Monitoring Â· Bring it all together on OpenShift 4.3 on IBM Cloud</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-prism/prism-tomorrow.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-collapsible-chapters/collapsible-chapters.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-hints/plugin-hints.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-back-to-top-button/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fancybox/jquery.fancybox.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fancybox/jquery.fancybox-buttons.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-web-header/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-codetabs/codetabs.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    
    <link rel="prev" href="exercise-create-es-service.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                        <b>1.1.</b>
                    
                    Introduction
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Getting Started</li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="../getting-started/get_started.html">
            
                <a href="../getting-started/get_started.html">
            
                    
                        <b>2.1.</b>
                    
                    Create Account and Get Cluster
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Deploy the Check Scanner applications</li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="exercise-deploy-upload.html">
            
                <a href="exercise-deploy-upload.html">
            
                    
                        <b>3.1.</b>
                    
                    Deploy Check Upload
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="exercise-create-cos-service.html">
            
                <a href="exercise-create-cos-service.html">
            
                    
                        <b>3.2.</b>
                    
                    Create Object Storage
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="exercise-deploy-processor.html">
            
                <a href="exercise-deploy-processor.html">
            
                    
                        <b>3.3.</b>
                    
                    Deploy Check Processor
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.4" data-path="exercise-create-es-service.html">
            
                <a href="exercise-create-es-service.html">
            
                    
                        <b>3.4.</b>
                    
                    Create Event Streams service
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Check the health</li>
        
        
    
        <li class="chapter active" data-level="4.1" data-path="exercise-logging-monitoring.html">
            
                <a href="exercise-logging-monitoring.html">
            
                    
                        <b>4.1.</b>
                    
                    Logging and Monitoring
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Logging and Monitoring</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="logging-and-monitoring">Logging and monitoring</h1>
<p>In this exercise, we&apos;ll explore the out-of-the-box logging and monitoring capabilities that are offered in OpenShift.</p>
<h2 id="openshift-logging">OpenShift Logging</h2>
<p>Since we only created one pod, seeing our logs will be straight forward.</p>
<ol>
<li><p>Ensure that you&apos;re in the <strong>Developer</strong> view. Then, navigate to <strong>Topology</strong>.</p>
</li>
<li><p>Navigate to your Pod by selecting your <strong>check-processor</strong> app, then clicking the name of the Pod under <strong>Pods</strong>.</p>
</li>
<li><p>Click on <strong>View Logs</strong> next to your Pods to see streaming logs from your running application. If you&apos;re still generating traffic, you should see log messages for every request being made.</p>
<p>      <a href="../assets/ocp43-pod-logs.png" rel="grouped" title="Pod Logs" target="_self" class="fancybox">
       <img src="../assets/ocp43-pod-logs.png" alt="Pod Logs">
     </a></p>
</li>
</ol>
<h2 id="openshift-terminal">OpenShift Terminal</h2>
<p>One of the great things about Kubernetes is the ability to quickly debug your application pods with SSH terminals. This is great for development, but generally is not recommended in production environments. OpenShift makes it even easier by allowing you to launch a terminal directly in the dashboard.</p>
<ol>
<li><p>Navigate to your Pod by selecting your app, then clicking the name of the Pod under <strong>Pods</strong>.</p>
<p>     <a href="../assets/ocp-topo-pod.png" rel="grouped" title="Navigate to Pod" target="_self" class="fancybox">
       <img src="../assets/ocp-topo-pod.png" alt="Navigate to Pod">
     </a></p>
</li>
<li><p>Switch to the <strong>Terminal</strong> tab</p>
<p>     <a href="../assets/ocp43-terminal.png" rel="grouped" title="Terminal" target="_self" class="fancybox">
       <img src="../assets/ocp43-terminal.png" alt="Terminal">
     </a></p>
</li>
<li><p>Run the following Shell commands:</p>
</li>
</ol>
<table>
<thead>
<tr>
<th style="text-align:left">Command</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">ls</td>
<td style="text-align:left">List the project files.</td>
</tr>
<tr>
<td style="text-align:left">ps aux</td>
<td style="text-align:left">List the running processes.</td>
</tr>
<tr>
<td style="text-align:left">cat /etc/redhat-release</td>
<td style="text-align:left">Show the underlying OS.</td>
</tr>
</tbody>
</table>
<h2 id="openshift-monitoring">OpenShift Monitoring</h2>
<h3 id="grafana">Grafana</h3>
<p>Red Hat OpenShift on IBM Cloud comes with <a href="https://grafana.com/" target="_blank">Grafana</a> preinstalled.</p>
<ol>
<li>Get started by switching from the <strong>Developer</strong> perspective to the <strong>Administrator</strong> perspective:</li>
<li>Navigate to <strong>Monitoring &gt; Dashboards</strong> in the left-hand bar. You can either view the dashboard inline or by clicking <strong>Grafana UI</strong> to launch the dashboard in a new tab.<ul>
<li>If inline, select <strong>Kubernetes / Compute Resources / Namespace (Pods)</strong> from the dropdown (initially set to etcd) and Namespace to <strong>check-scanner</strong></li>
<li>If you have clicked <strong>Grafana UI</strong> link, You&apos;ll be asked to login with  and then click through some permissions.You should then see your Grafana dashboard. Hit <strong>Home</strong> on the top left, click on <strong>Default</strong> and choose <strong>Kubernetes / Compute Resources / Namespace (Pods)</strong>. For the <strong>Namespace</strong> field, choose <code>check-scanner</code> which is the name of the project your app resides in.</li>
</ul>
</li>
<li><p>Notice the CPU and Memory usage for your application. In production environments, this is helpful for identifying the average amount of CPU or Memory your application uses, especially as it can fluctuate through the day.</p>
<p style="width: 50%;">

![Grafana CPU view](images/solution55-openshift-microservices/ocp45-grafana-cpu.png)
</p>

</li>
</ol>
<h3 id="prometheus">Prometheus</h3>
<p>Navigating back to the OpenShift console, you can also launch:</p>
<ul>
<li><a href="https://prometheus.io/" target="_blank"><strong>Prometheus</strong></a> - a monitoring system with an efficient time series database</li>
<li><a href="https://prometheus.io/docs/alerting/alertmanager/" target="_blank"><strong>Alertmanager</strong></a> - an extension of Prometheus focused on managing alerts</li>
</ul>
<p>OpenShift provides a web interface to Prometheus, which enables you to run Prometheus Query Language (PromQL) queries and examine the metrics visualized on a plot. This functionality provides an extensive overview of the cluster state and enables you to troubleshoot problems. Take a look around, and try the <strong>Insert Example Query</strong>.</p>
<ol>
<li>The Metrics page is accessible in the <strong>Administrator</strong> perspective by clicking <strong>Monitoring &#x2192; Metrics</strong>.</li>
<li>Navigate through the <strong>Prometheus UI</strong>. You&apos;ll be asked to login with OpenShift and then click through some permissions.</li>
<li>In the top box a query expression can be entered.  Paste in the following to get a look at our frontend:<pre class="language-"><code>sum(container_cpu_usage_seconds_total{container=&quot;check-upload&quot;})
</code></pre>{:pre}</li>
<li><p>Click on the <strong>Graph</strong> tab.  Note that the times are GMT:</p>
<p style="width: 50%;">

![Prometheus Graph](images/solution55-openshift-microservices/prometheus-01-ocp45.png)
</p>


</li>
</ol>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="exercise-create-es-service.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page: Create Event Streams service">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Logging and Monitoring","level":"4.1","depth":1,"previous":{"title":"Create Event Streams service","level":"3.4","depth":1,"path":"part1-learn_openshift/exercise-create-es-service.md","ref":"part1-learn_openshift/exercise-create-es-service.md","articles":[]},"dir":"ltr"},"config":{"plugins":["prism","-highlight","collapsible-chapters","hints","copy-code-button","back-to-top-button","fancybox","web-header","codetabs"],"root":"workshop","styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"webheader":{"headerTitle":"Bring it all together on OpenShift 4.3 on IBM Cloud"},"prism":{"css":["prismjs/themes/prism-tomorrow.css"]},"fancybox":{"helpers":{"buttons":{}},"openEffect":"elastic","closeEffect":"elastic"},"web-header":{},"search":{},"collapsible-chapters":{},"codetabs":{},"hints":{"danger":"fa fa-exclamation-circle","info":"fa fa-info-circle","tip":"fa fa-mortar-board","working":"fa fa-wrench"},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"white","family":"sans","size":2},"back-to-top-button":{},"copy-code-button":{},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":true}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"Bring it all together on OpenShift 4.3 on IBM Cloud","gitbook":"3.2.3"},"file":{"path":"part1-learn_openshift/exercise-logging-monitoring.md","mtime":"2020-11-17T03:08:52.360Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2020-11-17T03:10:46.716Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-collapsible-chapters/collapsible-chapters.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-copy-code-button/toggle.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-back-to-top-button/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fancybox/jquery.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fancybox/jquery.mousewheel.pack.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fancybox/jquery.fancybox.pack.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fancybox/jquery.fancybox-buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fancybox/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-web-header/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-codetabs/codetabs.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

